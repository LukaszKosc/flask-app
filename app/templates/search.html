{% extends "base.html" %}

{% block content %}
<h1>Define your search</h1>
<form action="" method="post">
    {{ form.hidden_tag() }}
    <p>
        {{ form.field.label }}:
        <select name="field" class="selectpicker form-control">
            {% for field in fields %}
            <option value="{{ field.field }}">{{ field.field }}</option>
            {% endfor %}
        </select>
        {% for error in form.field.errors %}
        <span style="color: red;">[{{ error }}]</span>
        {% endfor %}
        {{ form.value.label }}:
        {{ form.value(cols=20, rows=1) }}
        {% for error in form.value.errors %}
        <span style="color: red;">[{{ error }}]</span>
        {% endfor %}
        {{ form.submit(value="Search") }}
    </p>
</form>
{% if posts %}
    <b>Search results:</b>
    {% for post in posts %}
        <div><p>Author: {{ post.author.username }} <b>{{ post.title }}</b> {{ post.body }}</p></div>
    {% endfor %}
{% endif %}
{% endblock %}

